{"remainingRequest":"E:\\vueproject\\vueblog1\\node_modules\\babel-loader\\lib\\index.js!E:\\vueproject\\vueblog1\\src\\axios.js","dependencies":[{"path":"E:\\vueproject\\vueblog1\\src\\axios.js","mtime":1636462817829},{"path":"E:\\vueproject\\vueblog1\\babel.config.js","mtime":1636454739477},{"path":"E:\\vueproject\\vueblog1\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vueproject\\vueblog1\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAnLi9wbHVnaW5zL2F4aW9zJzsKaW1wb3J0ICcuL3BsdWdpbnMvZWxlbWVudC5qcyc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZSc7CmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXVpIjsKYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9ICJodHRwOi8vbG9jYWxob3N0OjgwODEiOwpheGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIHJldHVybiBjb25maWc7Cn0pOwpheGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIHZhciByZXMgPSByZXNwb25zZS5kYXRhOwogIGNvbnNvbGUubG9nKCLlkI7nva7mi6bmiKoiKTsgLy8g5b2T57uT5p6c55qEY29kZeaYr+WQpuS4ujIwMOeahOaDheWGtQoKICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlOwogIH0gZWxzZSB7CiAgICAvLyDlvLnnqpflvILluLjkv6Hmga8KICAgIE1lc3NhZ2UoewogICAgICBtZXNzYWdlOiByZXNwb25zZS5kYXRhLm1zZywKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgZHVyYXRpb246IDIgKiAxMDAwCiAgICB9KTsgLy8g55u05o6l5ouS57ud5b6A5LiL6Z2i6L+U5Zue57uT5p6c5L+h5oGvCgogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlLmRhdGEubXNnKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCdlcnInICsgZXJyb3IpOyAvLyBmb3IgZGVidWcKCiAgaWYgKGVycm9yLnJlc3BvbnNlLmRhdGEpIHsKICAgIGVycm9yLm1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhLm1zZzsKICB9IC8vIOagueaNruivt+axgueKtuaAgeinieW+l+aYr+WQpueZu+W9leaIluiAheaPkOekuuWFtuS7lgoKCiAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICBzdG9yZS5jb21taXQoJ1JFTU9WRV9JTkZPJyk7CiAgICByb3V0ZXIucHVzaCh7CiAgICAgIHBhdGg6ICcvbG9naW4nCiAgICB9KTsKICAgIGVycm9yLm1lc3NhZ2UgPSAn6K+36YeN5paw55m75b2VJzsKICB9CgogIGlmIChlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IDQwMykgewogICAgZXJyb3IubWVzc2FnZSA9ICfmnYPpmZDkuI3otrPvvIzml6Dms5Xorr/pl64nOwogIH0KCiAgTWVzc2FnZSh7CiAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgdHlwZTogJ2Vycm9yJywKICAgIGR1cmF0aW9uOiAzICogMTAwMAogIH0pOwogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOw=="},{"version":3,"sources":["E:/vueproject/vueblog1/src/axios.js"],"names":["router","store","Message","axios","defaults","baseURL","interceptors","request","use","config","response","res","data","console","log","code","message","msg","type","duration","Promise","reject","error","status","commit","push","path"],"mappings":";AAAA,OAAO,iBAAP;AACA,OAAO,sBAAP;AACA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,OAAT,QAAwB,YAAxB;AAGAC,KAAK,CAACC,QAAN,CAAeC,OAAf,GAAyB,uBAAzB;AACAF,KAAK,CAACG,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,UAAAC,MAAM,EAAE;AACnC,SAAOA,MAAP;AAEH,CAHD;AAIAN,KAAK,CAACG,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,UAAAE,QAAQ,EAAI;AACpC,MAAMC,GAAG,GAAGD,QAAQ,CAACE,IAArB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAFoC,CAGpC;;AACA,MAAIH,GAAG,CAACI,IAAJ,KAAa,GAAjB,EAAsB;AAClB,WAAOL,QAAP;AACH,GAFD,MAEO;AACH;AACAR,IAAAA,OAAO,CAAC;AACJc,MAAAA,OAAO,EAAEN,QAAQ,CAACE,IAAT,CAAcK,GADnB;AAEJC,MAAAA,IAAI,EAAE,OAFF;AAGJC,MAAAA,QAAQ,EAAE,IAAI;AAHV,KAAD,CAAP,CAFG,CAOH;;AACA,WAAOC,OAAO,CAACC,MAAR,CAAeX,QAAQ,CAACE,IAAT,CAAcK,GAA7B,CAAP;AACH;AACJ,CAhBL,EAiBI,UAAAK,KAAK,EAAI;AACLT,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAQQ,KAApB,EADK,CACqB;;AAC1B,MAAGA,KAAK,CAACZ,QAAN,CAAeE,IAAlB,EAAwB;AACpBU,IAAAA,KAAK,CAACN,OAAN,GAAgBM,KAAK,CAACZ,QAAN,CAAeE,IAAf,CAAoBK,GAApC;AACH,GAJI,CAKL;;;AACA,MAAIK,KAAK,CAACZ,QAAN,CAAea,MAAf,KAA0B,GAA9B,EAAmC;AAC/BtB,IAAAA,KAAK,CAACuB,MAAN,CAAa,aAAb;AACAxB,IAAAA,MAAM,CAACyB,IAAP,CAAY;AACRC,MAAAA,IAAI,EAAE;AADE,KAAZ;AAGAJ,IAAAA,KAAK,CAACN,OAAN,GAAgB,OAAhB;AACH;;AACD,MAAIM,KAAK,CAACZ,QAAN,CAAea,MAAf,KAA0B,GAA9B,EAAmC;AAC/BD,IAAAA,KAAK,CAACN,OAAN,GAAgB,WAAhB;AACH;;AACDd,EAAAA,OAAO,CAAC;AACJc,IAAAA,OAAO,EAAEM,KAAK,CAACN,OADX;AAEJE,IAAAA,IAAI,EAAE,OAFF;AAGJC,IAAAA,QAAQ,EAAE,IAAI;AAHV,GAAD,CAAP;AAKA,SAAOC,OAAO,CAACC,MAAR,CAAeC,KAAf,CAAP;AACH,CAvCL","sourcesContent":["import './plugins/axios'\r\nimport './plugins/element.js'\r\nimport router from './router'\r\nimport store from './store'\r\nimport { Message } from \"element-ui\";\r\n\r\n\r\naxios.defaults.baseURL = \"http://localhost:8081\"\r\naxios.interceptors.request.use(config=>{\r\n    return config\r\n\r\n})\r\naxios.interceptors.response.use(response => {\r\n        const res = response.data;\r\n        console.log(\"后置拦截\")\r\n        // 当结果的code是否为200的情况\r\n        if (res.code === 200) {\r\n            return response\r\n        } else {\r\n            // 弹窗异常信息\r\n            Message({\r\n                message: response.data.msg,\r\n                type: 'error',\r\n                duration: 2 * 1000\r\n            })\r\n            // 直接拒绝往下面返回结果信息\r\n            return Promise.reject(response.data.msg)\r\n        }\r\n    },\r\n    error => {\r\n        console.log('err' + error)// for debug\r\n        if(error.response.data) {\r\n            error.message = error.response.data.msg\r\n        }\r\n        // 根据请求状态觉得是否登录或者提示其他\r\n        if (error.response.status === 401) {\r\n            store.commit('REMOVE_INFO');\r\n            router.push({\r\n                path: '/login'\r\n            });\r\n            error.message = '请重新登录';\r\n        }\r\n        if (error.response.status === 403) {\r\n            error.message = '权限不足，无法访问';\r\n        }\r\n        Message({\r\n            message: error.message,\r\n            type: 'error',\r\n            duration: 3 * 1000\r\n        })\r\n        return Promise.reject(error)\r\n    })\r\n\r\n\r\n"]}]}